## Limit access to trusted OIDC Identity provider

* OIDC federation can be used to give temporary security credentials to users who have been authenticated through an OpenID Connect compatible identity provider (IdP) to an IAM OpenID Connect (OIDC) identity provider in your AWS environment. This section outlines control examples that govern the authorization mechanisms used by external OIDC identity providers (IdPs) to grant access to your organization's resources.


| Service Provider | Rational | 
|-------------|-------------|
|[Enforce trusted OIDC providers](https://github.com/aws-samples/data-perimeter-policy-examples/blob/4bc433ff6c4721049fc2eb542c89246343b5fb8a/resource_control_policies/identity_perimeter_rcp.json#L55C19-L55C49) | Limit access to sts:AssumeRoleWithWebIdentity to only federated identities associated with a specific OIDC provider.|
|[Enforce trusted OIDC tenants](https://github.com/aws-samples/data-perimeter-policy-examples/blob/4bc433ff6c4721049fc2eb542c89246343b5fb8a/resource_control_policies/identity_perimeter_rcp.json#L39C19-L39C44) | Limit access to sts:AssumeRoleWithWebIdentity to only federated identities originating from your tenant of a trusted multi-tenant OIDC provider.|
|[Default GitHub Actions](GitHub-Actions.json) | Help ensure that only repositories and jobs from your tenant within the github's SaaS environment can assume roles in your AWS accounts using `AssumeRoleWithWebIdentity`. This control is effective when you're using the default issuer URL shared by all github enviroments of `tokens.actions.githubusercontent.com` and uses part of the "sub" (subject)  claim value to identify which tenant a given token calling `AssumeRoleWithWebIdentity` belongs to. For example, you can use StringLike`"repo:<octo-org>/*"`replacing <octo-org> with the expected value of your "enterprise slug" to deny access to your AWS accounts from github actions, except when the github action belongs to your tenant of github.|
|[Salesforce](Salesforce.json) | Help ensure that only web identities coming from a trusted Salesforce tenant (identified by the aud claim) can assume roles in your AWS accounts using `AssumeRoleWithWebIdentity`. |
|[Built in web identity providers (e.g., Facebook, Google, Login with Amazon, Cognito)](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html#:~:text=Login%20with%20Amazon-,Facebook,-This%20tab%20explains) | Help ensure that only federated identities originating from trusted built-in web identity provider (Google, Facebook, AWS Cognito and Login with Amazon) can assume roles in your AWS accounts using `AssumeRoleWithWebIdentity`. Note: Please note that the [condition keys](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html#:~:text=Default-,Amazon,-Cognito) used to identify a specific provider or tenant in a multi-tenant OIDC provider may be different based on the provider.|
